/*-- scss:rules --*/

// Mermaid diagram styling
.mermaid {
  text-align: center !important;
  margin: 2rem auto !important;
  max-width: 100% !important;
  overflow-x: auto !important;
  
  svg {
    max-width: 100% !important;
    height: auto !important;
    margin: 0 auto !important;
    display: block !important;
  }
}

// Container for mermaid diagrams
pre.mermaid-pre,
div.cell-output-display {
  overflow-x: auto !important;
  max-width: 100% !important;
  margin: 1.5rem 0 !important;
  
  // Add scrollbar styling
  &::-webkit-scrollbar {
    height: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: var(--bs-gray-200);
    border-radius: 4px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--bs-gray-500);
    border-radius: 4px;
    
    &:hover {
      background: var(--bs-gray-600);
    }
  }
}

// Mobile adjustments for mermaid
@media (max-width: 991px) {
  .mermaid {
    margin: 1.5rem -0.5rem !important;
    padding: 0 0.5rem !important;
    
    svg {
      font-size: 0.875rem !important;
    }
  }
  
  // Allow horizontal scroll on mobile
  pre.mermaid-pre,
  div.cell-output-display {
    margin: 1rem -0.5rem !important;
    padding: 0 0.5rem !important;
  }
}

// Dark mode adjustments
.quarto-dark {
  pre.mermaid-pre,
  div.cell-output-display {
    &::-webkit-scrollbar-track {
      background: var(--bs-gray-800);
    }
    
    &::-webkit-scrollbar-thumb {
      background: var(--bs-gray-600);
      
      &:hover {
        background: var(--bs-gray-500);
      }
    }
  }
  
  // Mermaid diagram colors for dark mode
  .mermaid {
    .node rect,
    .node circle,
    .node ellipse,
    .node polygon {
      fill: #1a1a1a !important;
      stroke: #0C85CC !important;
      stroke-width: 2px !important;
    }
    
    .node text {
      fill: #F1F5F9 !important;
    }
    
    .flowchart-link {
      stroke: #0C85CC !important;
      fill: none !important;
    }
    
    .edgePath path {
      stroke: #0C85CC !important;
      fill: none !important;
    }
    
    .edgeLabel {
      background-color: #1a1a1a !important;
      color: #F1F5F9 !important;
    }
    
    .marker {
      fill: #0C85CC !important;
      stroke: #0C85CC !important;
    }
  }
}